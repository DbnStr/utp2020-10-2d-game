<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Game</title>
    <link rel="stylesheet" href="css/style.css" >
    <script src = "/socket.io/socket.io.js"></script>
   <script>
      let socket = io();
      let name = ''
      let role = ''
      let mark = 0
      function setPlayerName() {
          name = document.getElementById('nameOfPlayer').value;
          socket.emit('setPlayerName', {name: name, role: role});
      }
      function addNewPlayer(role) {
          mark = 1;
          this.role = role;
          console.log(role);
          document.body.innerHTML = '<div id = "nameError"></div><input type = "text" id = "nameOfPlayer" placeholder = "Enter your name">\
          <button type = "button" name = "button" onclick = "setPlayerName()">Set name</button>'
      }
      socket.on('deletePlayer' ,function () {
            socket.emit();
      })
      socket.on('usersExists' , function(data) {//событие происходящие если выбран ник, который уже занят
          console.log(data);
          document.getElementById('nameError').innerHTML  = data;
      })
   </script>
   <script src="play.js"></script>
</head>

<body>
    <div id="game-menu"><h1 id = "Choose-your-role">Choose your role</h1>
        <button type = "button" id="human" onclick="addNewPlayer(document.getElementById('human').value)">HUMAN</button>
        <button id="zombie" id = "zombie" onclick = "addNewPlayer(document.getElementById('zombie').value)">ZOMBIE</button>
    </div>
</body>

</html>